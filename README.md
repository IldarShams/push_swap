# push_swap
Проект школы 21, в котором требуется реализовать сортировку двух стеков данным набором операций над стеками.
Операции:
1. sa (swap A)  - первый и второй элемент меняются местами, то есть второй элемент становится вершиной стека
2. sb (swap B)  - аналогично sa.
3. ss - sa и sb одновременно, при проверке считается за одну операцию.
4. pa (push A) - добавление элемента в стек А из стека В.
5. pb (push B) - аналогично pa.
6. ra (rotate A) - вершина стека А переносится в конец стека, второй элемент стека становится вершиной.
6. rb (rotate B) - аналогично ra.
7. rr - ra и rb одновременно, при проверке считается за одну операцию.
8. rra (reverse rotate A) - последний элемент стека А становится вершиной стека, первый элемент становится вторым.
9. rrb - аналогично rrb.
10. rrr - rra и rrb одновременно, при проверке считается за одну операцию.

## Выбор алгоритма сортировки
Для успешной сдачи проекта необходимо отсортировать стек А за наименьшее число шагов.
Для 100 и 500 элементов определены границы:
#### менее 700 и 5500 - 5 баллов,
#### менее 900 и 7000 - 4 балла,
#### менее 1100 и 8500 - 3 балла,
#### менее 1300 и 9000 - 2 балла,
#### менее 1500 и 10500 - 1 балл,
соответственно.

Поэтому, чтобы сдать на максимум баллов, надо выбирать алгоритмы со сложностью log2(n) * n или быстрее.

664 = log2(100) * 100; 

4482 = log2(500) * 500

## Алгоритм быстрой сортровки

Пусть дан набор чисел, который требуется отсортировать:
#### 2, 4, -1, 5, 1, -5, -3, -2

Алгоритм быстрой сортировки заключается в том, что мы выбираем опорный элемент и делим набор на две части. В первую попадают все элементы, которые меньше опорного, а во вторую - больше опорного или равен.

Пусть опорным будет 1:
#### -1, -5, -3, -2 | 2, 4, 1

Повторяем для рекурсивно для левой и правой части.

### Левая часть: -1, -5, -3, -2
Опорный -2:
#### -5, -3 | -1, -2
Левая часть отсортированна.

Сортируем правую и получаем:

#### -5, -3, -2, -1

### Правая часть: 2, 4, 1
Опорный: 2
#### 1 | 2, 4

Итак, мы получили отсортированный набор чисел:
#### -5, -3, -2, -1, 1, 2, 4

## Реализация алгоритма быстрой сортировки для двух стеков
Пусть дан набор чисел.

![image](https://user-images.githubusercontent.com/75197752/151568935-33363762-f244-4f54-9003-dd4b4bb962de.png)

Мы хотим получить этот набор отсортированным в обратном порядке в стеке b, поэтому элементы меньше опорного мы отправляем в b, а больше опорного остаюся в а.

## Пример
Пусть дан все тот же набор чисел.

![image](https://user-images.githubusercontent.com/75197752/151566312-5d251261-e584-4880-87dd-88e476363f17.png)

При использовании алгоритма быстрой сортировки встает вопрос выбора опорного эелемента на каждом этапе сортировки. Лучшим опорным эелементом для выбора считается тот, который разделит набор на две равные или почти равные части. Есть несколько вариантов решения задачи.
#### 1. Вершина стека
Самый простой способ, но, очевидно, не самый лучший, потому что, если на вершине будет стоять число близкое к минимальному или максимальному, то разбиение будет не удачным.
#### 2. Среднее минимального и максимального элемента
Этот способ хорош при использовании на наборах, где числа распределены равномерно на отрезке [min, max].
Если набор будет выглядеть так:

1, -1, 0, 5, 100,

то разбиение будет неудачным.
#### 3. Один из трех
Выбираем вершину стека, конец стека, середину стека и находим средний из них. Остается шанс выбрать элемент близкий к минимальному или максимальному.
#### 4. Поиск точной середины
Поскольку в проекте учитывается только количество операций, применнённых к стеку, то можно сколь угодно долго анализировать стек для выбора лучшего опорного элемента.
Поэтому мною был выбран этот способ. Для упрощения поиска и небольшой оптимизации к каждому элементу сопоставим индекс в отсортированном массиве.

![image](https://user-images.githubusercontent.com/75197752/151567225-798bb589-fea9-431f-b0de-fd2755217c76.png)

Находим максимальный и минмальный индексы в стеке и делим целочисленно на 2: (7 + 0) / 2 = 3 -> -1 опорный элемент

![image](https://user-images.githubusercontent.com/75197752/151568398-061dbd42-7e24-444d-ad2d-373ca1275b12.png)
